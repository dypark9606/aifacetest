<!DOCTYPE html>
<html>
	<head>
		<!-- meta 태그는 해당 문서에 대한 정보인 메타데이터(metadata)를 정의할 때 사용 		 -->
		<meta charset="UTF-8" />
		<!--코딩의 시작 UTF-8로 주로 시작 -->
		<meta name="viewport" content="width=device-width, initial-scale=0.65, shrink-to-fit=no" />
		<!--폰에 화면 줄어들때 화면 비율에 따라서 적용하기 위해 -->
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<!--content="ie=edge"는 IE브라우저에서 각 버전 중 가장 최신 표준모드를 선택하는 문서모드 -->
		<link href="https://fonts.googleapis.com/css?family=Jua&display=swap" rel="stylesheet" />
		<!-- link = 연결하는거, href = Hyper text markup language, rel = relationship (보통스타일 시트랑 연결) Css = cascading style sheet-->
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
			integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
			crossorigin="anonymous"
		/>
		<!-- integrity는 rel 파일이 수정되지 않았음을 확인하기 위해 사용되는 해쉬 값 (hash value, crossorigin = 교차 출처 리소스 공유 -->
		<title>동물상 테스트</title>
		<meta name="title" content="동물상 테스트" />
		<meta name="subject" content="얼굴로 보는 나와 닮은 동물상 테스트?" />
		<meta
			name="keywords"
			content="인공지능 얼굴상, AI 얼굴상, AI 얼굴 점수, 외모 테스트, face AI, face artificial intelligence, animal face, 
					 인공지능 동물상, AI 얼굴 점수, 외모 테스트, 인공지능 외모 점수 평가, 동물상 테스트, 인공지능 동물상 테스트, 
					 나와 닮은 동물, 동물상 찾기, 얼굴로 보는 동물상, 얼굴 동물, 동물얼굴, 
					 강아지상, 고양이상, 여우상, 사슴상, 토끼상, 곰상, 공룡상 "
		/>
		<meta name="author" content="PDY" />
		<link rel="stylesheet" href="style_Sec3.css" />
		<link rel="canonical" href="https://test-ddtiy.run.goorm.io/test/Main_AI.html" />
		<!-- 대표 홈페이지 주소를 rel="canonical" 로 표시하는거다 -->
		<meta property="og:url" content="https://test-ddtiy.run.goorm.io/test/Main_AI.html" />
		<!-- og = open graph, og:title = 콘텐츠 제목, og:type =  웹페이지 타입 (blog, website 등, og:title = 웹사이트 이름) -->
		<meta property="og:type" content="website" />
		<meta property="og:title" content="동물상 테스트" />
		<meta
			property="og:description"
			content="얼굴로 살펴보는 동물상 테스트!
					 다양한 연예인 사진으로부터 동물상을 분석하고 나의 얼굴을 분석합니다. 
					 회원 가입없이 화면에서 바로 확인 가능합니다. 
					 사진 데이터는 어디에도 사용 및 전송되지 않습니다."
		/>

		<!-- 이게 공유 관련된 부분 -->
		<!-- Go to www.addthis.com/dashboard to customize your tools -->
		<script
			type="text/javascript"
			src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-60096f9908dbb7d2"
		></script>
		<!-- 이게 공유 관련된 부분 -->
	</head>

	<body>
		<section class="section">
			<!-- section은 독립적은 구획을 의미한다 -->
			<h1 class="title">인공지능 동물상 테스트</h1>
			<h2 class="subtitle">나와 닮은 동물상 연예인은 누구?</h2>
			<h2 class="sr-only">나의 외모점수는 얼마일까요?</h2>
			<!-- class ="sr-only"는 화면에는 안나옴 -->
			<h3 class="sr-only">
				연예인 사진을 기반으로 인공지능 학습을 수행 함
			</h3>
			<h4 class="sr-only">teachable machine 2.0을 활용하였습니다.</h4>
			<p class="sr-only">
				나와 닮은 동물상은 무엇일까요?
				대한민국 연예인의 사진으로부터 인공지능 학습을 통한 동물상을 분류하고, 나의 얼굴을 분석합니다. 
				회원가입 없이도 화면에서 바로 확인	가능합니다. 
				사용한 사진 데이터는 다른 용도로 사용하지 않습니다. 
				인공지능을 통해서 나의 외모를 테스트 해 보세요! 과연 여러분의 외모는 몇점일까요?
			</p>
			<!-- p = paragraph -->
		</section>

		<!--성별 선택하는 곳 		 -->
		<h3 class="pb-2 d-flex justify-content-center">성별을 선택하세요</h3>
		<!-- pb-2 글자 밑으로 패딩이 "2",  https://bootstrapshuffle.com/kr/classes/spacing/pb-1+%25_F+pb-*-%23, d-flex는 flex 방향이라는데?? column 방향일 듯-->
		<section class="d-flex justify-content-center">
			<p class="d-flex align-items-center pr-3">여자</p>
			<!-- align-items-center = 글자를 중간에 맞추는 거 -->
			<div>
				<input type="checkbox" id="gender" /><!-- input type="유형" id="name" -->
				<label for="gender">
					<span class="knob">
						<i></i>
					</span>
				</label>
			</div>

			<p class="d-flex align-items-center pl-3">남자</p>
		</section>

		<script
			class="jsbin"
			src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"
		></script>
		<!-- teachable machine에 관한 Javascript -->

		<div class="mt-3 container file-upload">
			<div class="image-upload-wrap">
				<input
					class="file-upload-input"
					type="file"
					onchange="readURL(this);"
					accept="image/*"
				/>
				<!-- onchange는 우리가 작성한 Javascript를 통해서 변화가 일어났는지 탐지해 줌, readURL함수는 뒤에 정의 되어있음, accept는 받아들이는 파일형식-->

				<div class="drag-text">
					<img src="img/upload.png" class="mt-5 pt-5 upload" />
					<h3 class="mb-5 pb-5 pt-4 upload-text">
						얼굴 사진을<br> 올려놓거나 <br>눌러서 <br>업로드하세요!
					</h3>
				</div>
			</div>

			<div class="file-upload-content">
				<img class="file-upload-image" id="face-image" src="#" alt="your image" />
				<div id="loading" class="animated bounce">
					<div class="spinner-border" role="status">
						<span class="sr-only">Loading...</span>
					</div>
					<p class="text-center">AI가 당신의 외모를 분석중입니다.</p>
				</div>
				<p class="result-message"></p>
				<div id="label-container" class="d-flex flex-column justify-content-around"></div>
				<!--이게 공유버튼	 -->
				<div class="addthis_inline_share_toolbox_czma"></div>
				<!--이게 공유버튼	 -->
				<div class="pt-3 image-title-wrap">
					<button
						type="button p-2"
						class="try-again-btn"
						onclick="window.location.reload();"
					>
						<span class="try-again-text">다른 사진으로 재시도</span>
					</button>
				</div>
			</div>
		</div>

		<footer class="footer pt-5 container d-flex justify-content-center">
			<div>
				<p>&copy; Industrial AI 2020. All Rights Reserved.</p>
			</div>
		</footer>

		<script>
			<!-- Javascript 파일 upload와 remove관련	 -->
						function readURL(input) {
							if (input.files && input.files[0]) {
								var reader = new FileReader();
								reader.onload = function (e) {
									$('.image-upload-wrap').hide();
									$('#loading').show();
									$('.file-upload-image').attr('src', e.target.result);
									$('.file-upload-content').show();
									$('.image-title').html(input.files[0].name);
								};
								reader.readAsDataURL(input.files[0]);
								init().then(function () {
									predict();
									$('#loading').hide();
								});
							} else {
								removeUpload();
							}
						}

						function removeUpload() {
							$('.file-upload-input').replaceWith($('.file-upload-input').clone());
							$('.file-upload-content').hide();
							$('.image-upload-wrap').show();
						}
						$('.image-upload-wrap').bind('dragover', function () {
							$('.image-upload-wrap').addClass('image-dropping');
						});
						$('.image-upload-wrap').bind('dragleave', function () {
							$('.image-upload-wrap').removeClass('image-dropping');
						});
		</script>
		<!-- Javascript 파일 upload와 remove관련 -->

		<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>

		<script type="text/javascript">
			<!-- Javascript AI관련된 부분 -->
						let URL;
						const urlMale = './AI_model/AI_animal_M/';
						const urlFemale = './AI_model/AI_animal_W/';
						let model, webcam, labelContainer, maxPredictions;
						async function init() {
							if (document.getElementById('gender').checked) {
								URL = urlMale;
							} else {
								URL = urlFemale;
							}
							const modelURL = URL + 'model.json';
							const metadataURL = URL + 'metadata.json';
							model = await tmImage.load(modelURL, metadataURL);
							maxPredictions = model.getTotalClasses();
							labelContainer = document.getElementById('label-container');
							for (let i = 0; i < maxPredictions; i++) {
								var element = document.createElement('div');
								element.classList.add('d-flex');
								labelContainer.appendChild(element);
							}
						}

						async function predict() {
							var image = document.getElementById('face-image');
							const prediction = await model.predict(image, false);
							prediction.sort((a, b) => parseFloat(b.probability) - parseFloat(a.probability));
							console.log(prediction[0].className);
							var resultTitle, resultExplain, resultCeleb;
							if (document.getElementById('gender').checked) {
								switch (prediction[0].className) {
									case 'dog':
										resultTitle = '귀여운 충성심 가득한 강아지상';
										resultExplain = '귀엽고 다정한 당신은 사람들에게 언제나 사랑받는 스타일! 활발하고 애교 넘치는 성격으로 사랑스러움을 뿜뿜~! 연인에게 관심받고 싶어 살짝 시무룩할 때도 있지만, 그 모습마저 사랑스러운 강아지 같은 매력을 지녔습니다. 친구들과 연인에게 항상 “멍멍~”하며 애교 폭발!';
										resultCeleb = '강아지상 연예인: 박보검, 지민(방탄소년단), 차은우, 정해인';
										break;
									case 'cat':
										resultTitle = '매력만점 츤데레 고양이상';
										resultExplain = '한 번 보면 냉철하고 시크해 보이는 당신, 하지만 알고 보면 은근히 애정 넘치는 타입! 연인에게 가끔은 차갑지만, 또 때로는 다정해서 상대방이 매번 심쿵하게 만드는 고양이 같은 매력! 자존감과 자신감이 넘쳐서 누가 뭐래도 “나만의 길을 간다옹~”';
										resultCeleb = '고양이상 연예인: 제니(블랙핑크), 이준기, 강동원, 아이유, 황민현';
										break;
									case 'rabbit':
										resultTitle = '상큼발랄 토끼상';
										resultExplain = '호기심이 많고 천진난만한 당신! 웃음 가득한 매력으로 주변 사람들에게 행복을 전파하는 ‘행복 바이러스’ 역할을 톡톡히 합니다. 귀엽고 순수한 외모 덕분에 모든 사람의 보호본능을 자극하며, 한 번만 웃어도 보는 사람을 심쿵하게 만드는 사랑스러운 존재!';
										resultCeleb = '토끼상 연예인: 정국(방탄소년단), 이성경, 박보영, 유정(위키미키), 김수현';
										break;
									case 'dinosaur':
										resultTitle = '카리스마 넘치는 나쁜남자 공룡상';
										resultExplain = '강렬한 인상으로 첫 만남에선 다가가기 어렵지만, 알고 보면 따뜻한 마음을 지닌 당신! 살짝 무심한 듯 시크하지만 매력으로 상대를 끌어당기는 터프한 스타일입니다. “뭐, 별거 아니야”라며 쿨한 척 해도 내면에는 은근히 다정한 면모가 가득한 나쁜남자 매력!';
										resultCeleb = '공룡상 연예인: 김우빈, 공유, 송강, 박서준, 윤두준';
										break;
									case 'bear':
										resultTitle = '포근하고 든든한 곰상';
										resultExplain = '첫 인상은 무뚝뚝해 보일 수 있지만 알고 보면 세상 제일 따뜻한 마음을 지닌 당신! 꼼꼼하고 섬세해 연인에게 헌신적이고 듬직한 파트너가 되어주는 스타일입니다. 귀여움과 든든함이 한데 어우러져 있는 곰 같은 매력으로 상대방을 편안하게 만듭니다!';
										resultCeleb = '곰상 연예인: 마동석, 조진웅, 손호준, 성훈, 차태현';
										break;
									default:
										resultTitle = '알 수 없음';
										resultExplain = '';
										resultCeleb = '';
								}

							} else {
								switch (prediction[0].className) {
									case 'dog':
										resultTitle = '귀엽고 충성스러운 강아지상';
										resultExplain = '다정하고 따뜻한 당신은 호감도 만렙! 누구와도 금세 친해지며 연인에게는 애교쟁이로 불리죠. 애인과 잠시만 떨어져도 시무룩해지는 귀여움까지, 사랑받을 수밖에 없는 순둥이 스타일! 진정한 사랑의 한결같은 모습, 그야말로 사랑에 충성하는 강아지 같은 매력!';
										resultCeleb = '강아지상 연예인: 박보영, 아이유, 지민(방탄소년단), 차은우, 한지민';
										break;
									case 'cat':
										resultTitle = '도도한 매력쟁이 고양이상';
										resultExplain = '겉으로는 도도하고 시크해 보이지만 알고 보면 애교가 넘치는 당신! 연인에게 은근히 관심받기를 좋아하며, 사랑스러운 츤데레 면모가 매력 포인트! 주변 사람들에게 미스터리한 매력을 풍기며 항상 인기를 독차지하는 고양이 같은 당신!';
										resultCeleb = '고양이상 연예인: 제니(블랙핑크), 안소희, 이효리, 이성경, 한예슬';
										break;
									case 'rabbit':
										resultTitle = '상큼발랄 토끼상';
										resultExplain = '발랄함과 순수함이 가득한 당신은 어디서나 주변 사람들에게 기쁨을 주는 행복바이러스! 호기심 많고 활발한 성격 덕분에 연인의 보호본능을 자극하는 귀염둥이 타입! 웃기만 해도 상큼하고 깜찍한 매력이 넘쳐나는 토끼 같은 당신!';
										resultCeleb = '토끼상 연예인: 수지, 나연(트와이스), 정국(방탄소년단), 문채원, 유리(소녀시대)';
										break;
									case 'deer':
										resultTitle = '우아하고 청순한 사슴상';
										resultExplain = '초롱초롱한 눈망울과 맑은 분위기를 지닌 당신은 사슴처럼 청순하고 온순한 매력을 가졌어요. 연인에게도 부드럽고 따뜻한 마음을 보여주는 스타일로, 사랑스러움이 철철 넘치며 신비한 매력까지 겸비한 당신! 연인에게는 항상 “아, 너무 사랑스러워~”라는 말을 들을 듯!';
										resultCeleb = '사슴상 연예인: 윤아(소녀시대), 이연희, 고아라, 정유미, 수지';
										break;
									case 'fox':
										resultTitle = '섹시한 밀당의 여왕 여우상';
										resultExplain = '사람의 마음을 쏙 빼놓는 매력을 지닌 당신은 은근히 섹시한 외모와 분위기로 주목받는 스타일! 센스 넘치고 사교적인 성격 덕분에 어딜 가도 시선을 사로잡습니다. 사랑에 빠진 상대방은 당신의 밀당에 푹 빠져서 허우적대기 마련! 연인에게 끊임없이 설렘을 주는 매력적인 여우상!';
										resultCeleb = '여우상 연예인: 한예슬, 경리(나인뮤지스), 예지(있지), 헤이즈, 지연(티아라)';
										break;
									default:
										resultTitle = '알 수 없음';
										resultExplain = '';
										resultCeleb = '';
								}

							}

							// 여기는 위에서 result title 받아온다 즉 title = resultTitle
							var title =
								"<div class='" +
								prediction[0].className +
								"-animal-title'>" +
								resultTitle +
								'</div>';

							var explain = "<div class='animal-explain pt-2'>" + resultExplain + '</div>';

							var celeb =
								"<div class='" +
								prediction[0].className +
								"-animal-celeb pt-2 pb-2'>" +
								resultCeleb +
								'</div>';

							$('.result-message').html(title + explain + celeb); // title, 설명, 관련 연예인 표시

							// 여기가 아래 그래프 기능이겠지
							var barWidth;
							for (let i = 0; i < maxPredictions; i++) {
								if (prediction[i].probability.toFixed(2) > 0.1) { //toFixed(2) = 소수점 두째자리 표시했을 때 0.1 보다 크면...
									barWidth = Math.round(prediction[i].probability.toFixed(2) * 100) + '%'; // 반올림한 숫자에 100 곱하고 % 달아서 barwidth에 넣어라
								} else if (prediction[i].probability.toFixed(2) >= 0.01) {
									barWidth = '4%';
								} else {
									barWidth = '2%';
								}
								var labelTitle;
								switch (prediction[i].className) {
									case 'dog':
										labelTitle = '강아지상';
										break;
									case 'cat':
										labelTitle = '고양이상';
										break;
									case 'rabbit':
										labelTitle = '토끼상';
										break;
									case 'dinosaur':
										labelTitle = '공룡상';
										break;
									case 'bear':
										labelTitle = '곰상';
										break;
									case 'deer':
										labelTitle = '사슴상';
										break;
									case 'fox':
										labelTitle = '여우상';
										break;
									default:
										labelTitle = '알수없음';
								}
								var label =
									"<div class='animal-label d-flex align-items-center'>" +
									labelTitle +
									'</div>';
								var bar =
									"<div class='bar-container position-relative container'><div class='" +
									prediction[i].className +
									"-box'></div><div class='d-flex justify-content-center align-items-center " +
									prediction[i].className +
									"-bar' style='width: " +
									barWidth +
									"'><span class='d-block percent-text'>" +
									Math.round(prediction[i].probability.toFixed(2) * 100) +
									'%</span></div></div>';
								labelContainer.childNodes[i].innerHTML = label + bar;
							} // 여기가 아래 그래프 기능이겠지
						}
		</script>
		<!-- Javascript AI관련된 부분 -->

		<!-- 이거는 광고 -->
		<script>
			function iosApp() {
				document.getElementById('coupang').style.display = 'none';
				$('#coupang ins').hide();
				document.getElementById('addThis').style.display = 'none';
				document.getElementById('disqus_thread').style.display = 'none';
				var kakao = document.getElementsByClassName('kakao_ad_area');
				for (var i = 0; i < kakao.length; i++) {
					if (kakao[i]) {
						kakao[i].style.display = 'none';
					}
				}
				document.getElementById('yotube-top-link').style.display = 'none';
				document.getElementById('yotube-mid-link').style.display = 'none';
				document.getElementById('yotube-bottom-link').style.display = 'none';
			}
		</script>
		<!-- 이거는 광고 -->
		<!-- 여기는 댓글창 다는거 -->
		<div id="disqus_thread"></div>
		<script>
			/**
			 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
			 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
			/*
			var disqus_config = function () {
			this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
			this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
			};
			*/
			(function () {
				// DON'T EDIT BELOW THIS LINE
				var d = document,
					s = d.createElement('script');
				s.src = 'https://seoyoul0510.disqus.com/embed.js';
				s.setAttribute('data-timestamp', +new Date());
				(d.head || d.body).appendChild(s);
			})();
		</script>
		<noscript
			>Please enable JavaScript to view the
			<a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript
		>
		<!-- 여기는 댓글창 다는거 -->
	</body>
	<!-- 
image input box
Copyright (c) 2020 by Aaron Vanston (https://codepen.io/aaronvanston/pen/yNYOXR)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

gender toggle
Copyright (c) 2020 by Mert Cukuren (https://codepen.io/knyttneve/pen/bPpEZY)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 -->
</html>